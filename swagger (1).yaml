basePath: /
definitions:
  model.Appointment:
    properties:
      appointment_type:
        type: string
      assigned_to:
        type: string
      attachments:
        items:
          type: string
        type: array
      created_at:
        type: string
      customer_id:
        type: string
      duration:
        description: in minutes
        type: integer
      id:
        type: string
      location:
        type: string
      notes:
        type: string
      priority:
        type: string
      scheduled_at:
        type: string
      status:
        type: string
      updated_at:
        type: string
    type: object
  model.AppointmentRequest:
    properties:
      appointment_type:
        type: string
      assigned_to:
        type: string
      attachments:
        items:
          type: string
        type: array
      customer_id:
        type: string
      duration:
        description: in minutes
        type: integer
      location:
        type: string
      notes:
        type: string
      priority:
        type: string
      scheduled_at:
        type: string
      status:
        type: string
    type: object
  model.Customer:
    properties:
      address:
        type: string
      age:
        type: integer
      assigned_to:
        type: string
      created_at:
        type: string
      email:
        type: string
      first_name:
        type: string
      gender:
        type: string
      id:
        type: string
      last_name:
        type: string
      medical_history: {}
      phone:
        type: string
      status:
        type: string
      updated_at:
        type: string
    type: object
  model.CustomerRequest:
    properties:
      address:
        type: string
      age:
        type: integer
      assigned_to:
        type: string
      email:
        type: string
      first_name:
        type: string
      gender:
        type: string
      last_name:
        type: string
      medical_history: {}
      phone:
        type: string
      status:
        type: string
    type: object
  model.LoginRequest:
    properties:
      password:
        type: string
      user_name:
        type: string
    type: object
  model.OrgRequest:
    properties:
      name:
        type: string
      primary_email:
        type: string
      type:
        type: string
      whatsapp_no:
        type: string
    type: object
  model.Organization:
    properties:
      created_at:
        type: string
      id:
        type: string
      name:
        type: string
      primary_email:
        type: string
      type:
        type: string
      updated_at:
        type: string
      whatsapp_no:
        type: string
    type: object
  model.Team:
    properties:
      additional_info: {}
      created_at:
        type: string
      id:
        type: string
      name:
        type: string
      org_id:
        type: string
      role:
        type: string
      status:
        type: string
      updated_at:
        type: string
    type: object
  model.TeamRequest:
    properties:
      additional_info: {}
      name:
        type: string
      org_id:
        type: string
      role:
        type: string
      status:
        type: string
    type: object
  model.Template:
    properties:
      content:
        items:
          type: string
        type: array
      created_at:
        type: string
      id:
        type: string
      name:
        type: string
      org_id:
        type: string
      updated_at:
        type: string
    type: object
  model.TemplateRequest:
    properties:
      content:
        items:
          type: string
        type: array
      name:
        type: string
      org_id:
        type: string
    type: object
  model.TokenResponse:
    properties:
      access_token:
        type: string
      expires_at:
        type: string
      role:
        type: string
    type: object
  model.User:
    properties:
      created_at:
        type: string
      id:
        type: string
      org_id:
        type: string
      password:
        type: string
      role:
        type: string
      updated_at:
        type: string
      user_name:
        type: string
    type: object
  model.UserRequest:
    properties:
      org_id:
        type: string
      password:
        type: string
      role:
        type: string
      user_name:
        type: string
    type: object
  router.HealthResponse:
    properties:
      gc_pause_ms:
        type: number
      goroutines:
        type: integer
      heap_objects:
        type: integer
      memory_usage_mb:
        type: number
      status:
        type: string
      timestamp:
        type: string
    type: object
host: https://pw-crm-gateway-1.onrender.com
info:
  contact: {}
  description: This is my HTTP server
  title: My API
  version: "1.0"
paths:
  /checkAuth:
    post:
      description: Validate the provided JWT token
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: string
      summary: Check authentication token
      tags:
      - auth
  /customers:
    get:
      description: List all customers (optionally scoped by org via context)
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.Customer'
      summary: List customers
      tags:
      - customers
    post:
      consumes:
      - application/json
      description: Create a new customer in the system
      parameters:
      - description: Customer request payload
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.CustomerRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.Customer'
      summary: Create customer
      tags:
      - customers
  /customers/{id}:
    delete:
      description: Delete a customer by ID
      parameters:
      - description: Customer ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: string
      summary: Delete customer
      tags:
      - customers
    get:
      description: Get a single customer based on ID
      parameters:
      - description: Customer ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.Customer'
      summary: Get customer by ID
      tags:
      - customers
    put:
      consumes:
      - application/json
      description: Update an existing customer's details
      parameters:
      - description: Customer ID
        in: path
        name: id
        required: true
        type: integer
      - description: Customer request payload
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.CustomerRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.Customer'
      summary: Update customer
      tags:
      - customers
  /login:
    post:
      consumes:
      - application/json
      description: Login with username and password to receive JWT token
      parameters:
      - description: Login request payload
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.LoginRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.TokenResponse'
      summary: Login
      tags:
      - auth
  /reports/daily:
    get:
      description: Get dashboard metrics (customers and appointments) for selected
        date
      parameters:
      - description: Selected date for appointments (YYYY-MM-DD). If omitted, today
          is used.
        in: query
        name: date
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            additionalProperties: true
            type: object
      summary: Daily dashboard metrics
      tags:
      - reports
  /teams:
    get:
      description: List all teams
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.Team'
      summary: List teams
      tags:
      - teams
    post:
      consumes:
      - application/json
      description: Create a new team
      parameters:
      - description: Team request payload
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.TeamRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.Team'
      summary: Create team
      tags:
      - teams
  /teams/{id}:
    delete:
      description: Delete a team by ID
      parameters:
      - description: Team ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: string
      summary: Delete team
      tags:
      - teams
    get:
      description: Get a single team by ID
      parameters:
      - description: Team ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.Team'
      summary: Get team by ID
      tags:
      - teams
    put:
      consumes:
      - application/json
      description: Update an existing team
      parameters:
      - description: Team ID
        in: path
        name: id
        required: true
        type: integer
      - description: Team request payload
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.TeamRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.Team'
      summary: Update team
      tags:
      - teams
  /templates:
    get:
      description: List templates for an org (top recent first)
      parameters:
      - description: Organization ID
        in: query
        name: org_id
        type: string
      - description: Maximum number of templates to return
        in: query
        name: limit
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.Template'
      summary: List templates
      tags:
      - templates
    post:
      consumes:
      - application/json
      description: Create a new message/template for the org
      parameters:
      - description: Template request payload
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.TemplateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.Template'
      summary: Create template
      tags:
      - templates
  /templates/{id}:
    delete:
      description: Delete a template by ID
      parameters:
      - description: Template ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: string
      summary: Delete template
      tags:
      - templates
    get:
      description: Get a single template by ID
      parameters:
      - description: Template ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.Template'
      summary: Get template by ID
      tags:
      - templates
    put:
      consumes:
      - application/json
      description: Update an existing template
      parameters:
      - description: Template ID
        in: path
        name: id
        required: true
        type: integer
      - description: Template request payload
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.TemplateRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.Template'
      summary: Update template
      tags:
      - templates
  /users:
    get:
      description: List all users
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.User'
      summary: List users
      tags:
      - users
    post:
      consumes:
      - application/json
      description: Create a new user
      parameters:
      - description: User request payload
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.UserRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.User'
      summary: Create user
      tags:
      - users
  /users/{id}:
    delete:
      description: Delete a user by ID
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            type: string
      summary: Delete user
      tags:
      - users
    get:
      description: Get a single user by ID
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.User'
      summary: Get user by ID
      tags:
      - users
    put:
      consumes:
      - application/json
      description: Update an existing user
      parameters:
      - description: User ID
        in: path
        name: id
        required: true
        type: integer
      - description: User request payload
        in: body
        name: body
        required: true
        schema:
          $ref: '#/definitions/model.UserRequest'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/model.User'
      summary: Update user
      tags:
      - users
swagger: "2.0"
